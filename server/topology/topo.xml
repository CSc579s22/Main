<rspec xmlns:client="http://www.protogeni.net/resources/rspec/ext/client/1" xmlns:emulab="http://www.protogeni.net/resources/rspec/ext/emulab/1" xmlns:jacks="http://www.protogeni.net/resources/rspec/ext/jacks/1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.geni.net/resources/rspec/3" xsi:schemaLocation="http://www.geni.net/resources/rspec/3 http://www.geni.net/resources/rspec/3/request.xsd" type="request">
  <rspec_tour xmlns="http://www.protogeni.net/resources/rspec/ext/apt-tour/1">
    <description type="markdown">
Multi layer Topology
</description>
  </rspec_tour>
  <node client_id="sw_origin" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw_origin:if-sw_origin-sw1">
      <ip address="10.254.253.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw_origin:if-sw_origin-sw2">
      <ip address="10.254.253.2" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw_origin:if-sw_origin-sw3">
      <ip address="10.254.253.3" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw_origin:if-sw_origin-server">
      <ip address="10.201.1.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <node client_id="sw1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw1:if-sw1-sw_origin">
      <ip address="10.254.254.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw1:if-sw1-sw2">
      <ip address="10.253.1.2" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw1:if-sw1-sw3">
      <ip address="10.253.1.3" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw1:if-sw1-cache1">
      <ip address="10.210.1.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw1:if-sw1c1">
      <ip address="10.210.1.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw_origin-sw1">
    <interface_ref client_id="sw1:if-sw1-sw_origin"/>
    <interface_ref client_id="sw_origin:if-sw_origin-sw1"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw2" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw2:if-sw2-sw_origin">
      <ip address="10.254.254.2" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw2:if-sw2-sw1">
      <ip address="10.253.2.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw2:if-sw2-sw3">
      <ip address="10.253.2.3" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw2:if-sw2-cache1">
      <ip address="10.210.2.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw2:if-sw2c1">
      <ip address="10.210.2.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw_origin-sw2">
    <interface_ref client_id="sw2:if-sw2-sw_origin"/>
    <interface_ref client_id="sw_origin:if-sw_origin-sw2"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw3" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw3:if-sw3-sw_origin">
      <ip address="10.254.254.3" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw3:if-sw3-sw1">
      <ip address="10.253.3.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw3:if-sw3-sw2">
      <ip address="10.253.3.2" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw3:if-sw3-cache1">
      <ip address="10.210.3.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw3:if-sw3c1">
      <ip address="10.210.3.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw3:if-c-sw-r">
      <ip address="10.252.253.253" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw_origin-sw3">
    <interface_ref client_id="sw3:if-sw3-sw_origin"/>
    <interface_ref client_id="sw_origin:if-sw_origin-sw3"/>
    <jacks:site id="multilayer"/>
  </link>
  <link client_id="link-sw1-sw2">
    <interface_ref client_id="sw1:if-sw1-sw2"/>
    <interface_ref client_id="sw2:if-sw2-sw1"/>
    <jacks:site id="multilayer"/>
  </link>
  <link client_id="link-sw1-sw3">
    <interface_ref client_id="sw1:if-sw1-sw3"/>
    <interface_ref client_id="sw3:if-sw3-sw1"/>
    <jacks:site id="multilayer"/>
  </link>
  <link client_id="link-sw2-sw3">
    <interface_ref client_id="sw2:if-sw2-sw3"/>
    <interface_ref client_id="sw3:if-sw3-sw2"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="server" exclusive="true">
    <sliver_type name="raw"/>
    <interface client_id="server:if-server">
      <ip address="10.1.1.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw_origin-server">
    <interface_ref client_id="sw_origin:if-sw_origin-server"/>
    <interface_ref client_id="server:if-server"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw1-cache1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw1-cache1:if-cache1-sw1">
      <ip address="10.10.1.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw1-cache1">
    <interface_ref client_id="sw1:if-sw1-cache1"/>
    <interface_ref client_id="sw1-cache1:if-cache1-sw1"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw1c1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw1c1:if-c1sw1">
      <ip address="10.10.1.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw1c1">
    <interface_ref client_id="sw1:if-sw1c1"/>
    <interface_ref client_id="sw1c1:if-c1sw1"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw2-cache1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw2-cache1:if-cache1-sw2">
      <ip address="10.10.2.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw2-cache1">
    <interface_ref client_id="sw2:if-sw2-cache1"/>
    <interface_ref client_id="sw2-cache1:if-cache1-sw2"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw2c1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw2c1:if-c1sw2">
      <ip address="10.10.2.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw2c1">
    <interface_ref client_id="sw2:if-sw2c1"/>
    <interface_ref client_id="sw2c1:if-c1sw2"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw3-cache1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw3-cache1:if-cache1-sw3">
      <ip address="10.10.3.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw3-cache1">
    <interface_ref client_id="sw3:if-sw3-cache1"/>
    <interface_ref client_id="sw3-cache1:if-cache1-sw3"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw3c1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw3c1:if-c1sw3">
      <ip address="10.10.3.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw3c1">
    <interface_ref client_id="sw3:if-sw3c1"/>
    <interface_ref client_id="sw3c1:if-c1sw3"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw-r" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw-r:if-sw-r-c1">
      <ip address="10.210.200.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw-r:if-sw-r-c2">
      <ip address="10.210.200.2" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw-r:if-sw-r-c3">
      <ip address="10.210.200.3" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw-r:if-sw-r-c4">
      <ip address="10.210.200.4" netmask="255.0.0.0" type="ipv4"/>
    </interface>
    <interface client_id="sw-r:if-sw-r-c">
      <ip address="10.252.254.254" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <node client_id="sw-r-c1" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw-r-c1:if-c1sw-r">
      <ip address="10.10.200.1" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw-r-c1">
    <interface_ref client_id="sw-r:if-sw-r-c1"/>
    <interface_ref client_id="sw-r-c1:if-c1sw-r"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw-r-c2" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw-r-c2:if-c2sw-r">
      <ip address="10.10.200.2" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw-r-c2">
    <interface_ref client_id="sw-r:if-sw-r-c2"/>
    <interface_ref client_id="sw-r-c2:if-c2sw-r"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw-r-c3" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw-r-c3:if-c3sw-r">
      <ip address="10.10.200.3" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw-r-c3">
    <interface_ref client_id="sw-r:if-sw-r-c3"/>
    <interface_ref client_id="sw-r-c3:if-c3sw-r"/>
    <jacks:site id="multilayer"/>
  </link>
  <node client_id="sw-r-c4" exclusive="false">
    <sliver_type name="emulab-xen"/>
    <interface client_id="sw-r-c4:if-c4sw-r">
      <ip address="10.10.200.4" netmask="255.0.0.0" type="ipv4"/>
    </interface>
  </node>
  <link client_id="link-sw-r-c4">
    <interface_ref client_id="sw-r:if-sw-r-c4"/>
    <interface_ref client_id="sw-r-c4:if-c4sw-r"/>
    <jacks:site id="multilayer"/>
  </link>
  <link client_id="link-sw-r-c">
    <interface_ref client_id="sw-r:if-sw-r-c"/>
    <interface_ref client_id="sw3:if-c-sw-r"/>
    <jacks:site id="multilayer"/>
  </link>
</rspec>
